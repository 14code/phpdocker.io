# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure(2) do |config|
    config.vm.box = "blinkreaction/boot2docker"

    config.vm.network "private_network", ip: "{{ vmIpAddress }}"
    config.vm.synced_folder "..", "/home/docker/{{ projectNameSlug }}", id: "{{ projectNameSlug }}-dev"
    config.vm.synced_folder "~/.composer/", "/home/docker/.composer", id: "{{ projectNameSlug }}-composer"

    config.vm.provider "virtualbox" do |vb|
        vb.name = "{{ projectName }}"
        vb.memory = 1024
        vb.cpus = 1
    end

    # Bring up containers
    config.vm.provision "shell", run: "always", inline: "cd /home/docker/{{ projectNameSlug }}/{{ phpDockerFolder }} && docker-compose up -d 1>&2"
end
